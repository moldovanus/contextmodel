<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="model.impl.databaseImpl.ontology.actions">

    <!--ContextActionImpl-->
    <joined-subclass name="model.impl.databaseImpl.ontology.actions.ContextActionImpl"
                     extends="model.impl.databaseImpl.ontology.ContextElementImpl"
                     table="ContextAction"
                     lazy="false">
        <key column="UID"/>

        <list name="resources" cascade="save-update" lazy="false" table="TargetResources">
            <key column="resourcesId"/>
            <list-index column="resourcesIndex"/>
            <many-to-many class="model.impl.databaseImpl.ontology.resources.ContextResourceImpl" lazy="false"/>
        </list>
    </joined-subclass>

    <!--ApplicationAdaptationActionImpl-->
    <joined-subclass name="ApplicationAdaptationActionImpl" extends="ContextActionImpl"
                     table="ApplicationAdaptationAction">
        <key column="UID"/>
    </joined-subclass>

    <!--ITComputingResourcesAdaptationActionImpl-->
    <joined-subclass name="ITComputingResourcesAdaptationActionImpl" extends="ContextActionImpl"
                     table="ITComputingResourcesAdaptationAction">
        <key column="UID"/>
    </joined-subclass>

    <!--ApplicationRedesignImpl-->
    <joined-subclass name="ApplicationRedesignImpl" extends="ApplicationAdaptationActionImpl"
                     table="ApplicationRedesign">
        <key column="UID"/>
    </joined-subclass>

    <!--ConsolidationActionImpl-->
    <joined-subclass name="ConsolidationActionImpl" extends="ITComputingResourcesAdaptationActionImpl"
                     table="ConsolidationAction">
        <key column="UID"/>
    </joined-subclass>

    <!--DeployActivityImpl-->
    <joined-subclass name="DeployActivityImpl" extends="ConsolidationActionImpl"
                     table="DeployActivityImpl">
        <key column="UID"/>
        <many-to-one name="activity" column="activity"
                     class="model.impl.databaseImpl.ontology.resources.applications.ApplicationActivityImpl"
                     cascade="save-update" lazy="false"/>
        <many-to-one name="resourceTo" column="resourceTo"
                     class="model.impl.databaseImpl.ontology.resources.ServiceCenterITFacilityResourceImpl"
                     cascade="save-update" lazy="false"/>

    </joined-subclass>

    <!--DPMActionImpl-->
    <joined-subclass name="DPMActionImpl" extends="ITComputingResourcesAdaptationActionImpl"
                     table="DPMAction">
        <key column="UID"/>
        <property name="stateAfterAction" column="stateAfterAction" type="int"/>
        <property name="stateBeforeAction" column="stateBeforeAction" type="int"/>
        <property name="noStatesJump" column="noStatesJump" type="int"/>
        <property name="toLowOrHighState" column="toLowOrHighState" type="boolean"/>
        <many-to-one name="resourceOn" column="resourceOn"
                     class="model.impl.databaseImpl.ontology.resources.ServiceCenterITFacilityResourceImpl"
                     cascade="save-update" lazy="false"/>

    </joined-subclass>

    <!--ITFacilityResourcesAdaptationActionImpl-->
    <joined-subclass name="ITFacilityResourcesAdaptationActionImpl" extends="ContextActionImpl"
                     table="ITFacilityResourcesAdaptationAction">
        <key column="UID"/>
        <many-to-one name="action" class="ContextActionImpl" column="action"
                     cascade="save-update" lazy="false"/>
    </joined-subclass>

    <!--MigrateActivityImpl-->
    <joined-subclass name="MigrateActivityImpl" extends="ContextActionImpl"
                     table="MigrateActivity">
        <key column="UID"/>
        <many-to-one name="applicationActivity"
                     class="model.impl.databaseImpl.ontology.resources.applications.ApplicationActivityImpl"
                     column="applicationActivity" cascade="save-update" lazy="false"/>
    </joined-subclass>


</hibernate-mapping>