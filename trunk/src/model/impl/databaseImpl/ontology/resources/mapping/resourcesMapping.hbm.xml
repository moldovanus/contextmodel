<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="model.impl.databaseImpl.ontology.resources">

    <!--ContextElement-->
    <class name="model.impl.databaseImpl.ontology.ContextElementImpl" abstract="true" table="ContextElement"
           lazy="false">

        <!--<cache usage="read-write"/>-->

        <!--<cache usage="read-write" include="all"/>-->
        <id name="id" column="UID" unsaved-value="-1">
            <generator class="increment"/>
        </id>
        <!--<natural-id>-->
        <!--<property name="id" type="java.lang.Integer" column="UID" insert="false"/>-->
        <!--</natural-id>-->

        <property name="name" column="name" type="string"/>

    </class>

    <!--ContextResourceImpl-->
    <joined-subclass name="model.impl.databaseImpl.ontology.resources.ContextResourceImpl"
                     extends="model.impl.databaseImpl.ontology.ContextElementImpl"
                     table="ContextResource" abstract="true">
        <key column="UID"/>
        <property name="resourceID" type="string" column="resourceID" insert="true" formula="UID"/>
    </joined-subclass>

    <!--ServiceCenterITComputingResourceImpl-->
    <joined-subclass name="model.impl.databaseImpl.ontology.resources.ServiceCenterITComputingResourceImpl"
                     extends="model.impl.databaseImpl.ontology.resources.ContextResourceImpl"
                     table="ServiceCenterITComputingResource">
        <key column="UID"/>
        <list name="energyStates" cascade="save-update" lazy="false">
            <key column="resourceUID"/>
            <list-index column="stateIndex"/>
            <element column="stateValue" type="java.lang.Integer"/>
        </list>
        <list name="runningActivities" cascade="save-update" lazy="false">
            <key column="resourceUID"/>
            <list-index column="applicationActivityUID"/>
            <many-to-many class="model.impl.databaseImpl.ontology.resources.applications.HDDIntensiveActivityImpl"
                          lazy="false"/>
        </list>
        <property name="currentEnergyState" column="currentEnergyState" type="java.lang.Integer"/>
        <property name="optimalWorkLoad" column="optimalWorkLoad" type="java.lang.Double"/>
        <property name="maximumWorkLoad" column="maximumWorkLoad" type="java.lang.Double"/>
        <property name="currentWorkLoad" column="currentWorkLoad" type="java.lang.Double"/>
    </joined-subclass>

    <!--ComplexResourceImpl-->
    <joined-subclass name="model.impl.databaseImpl.ontology.resources.ComplexResourceImpl"
                     extends="ServiceCenterITComputingResourceImpl"
                     table="ComplexResource">
        <key column="UID"/>
        <list name="resourceWorkloadProperty" cascade="save-update" lazy="false" table="ResourceWorkloadProperty">
            <key column="uid"/>
            <list-index column="resourceWorkloadPropertyIndex"/>
            <element column="resourceWorkloadPropertyValue" type="java.lang.String"/>
        </list>
        <list name="resources" cascade="save-update" lazy="false" table="AssociatedResources">
            <key column="resourceID"/>
            <list-index column="associatedResourceID"/>
            <many-to-many class="ServiceCenterITComputingResourceImpl"/>
        </list>
    </joined-subclass>

    <!--SimpleResourceImpl-->
    <joined-subclass name="model.impl.databaseImpl.ontology.resources.SimpleResourceImpl"
                     extends="ServiceCenterITComputingResourceImpl"
                     table="SimpleResource">
        <key column="UID"/>
        <property name="resourceWorkLoadProperty" column="resourceWorkLoadProperty" type="string"/>
    </joined-subclass>


    <!--&lt;!&ndash;SimpleResourceImpl&ndash;&gt;-->
    <!--<joined-subclass name="SimpleResourceImpl" extends="ServiceCenterITComputingResourceImpl"-->
    <!--table="SimpleResource">-->
    <!--<key column="UID"/>-->
    <!--<property name="resourceWorkLoadProperty" column="resourceWorkLoadProperty" type="string"/>-->
    <!--</joined-subclass>-->

    <!--EventImpl-->
    <joined-subclass name="model.impl.databaseImpl.ontology.EventImpl"
                     extends="model.impl.databaseImpl.ontology.ContextElementImpl"
                     table="Event">
        <key column="UID"/>
    </joined-subclass>

    <!--GoalImpl-->
    <joined-subclass name="model.impl.databaseImpl.ontology.GoalImpl"
                     extends="model.impl.databaseImpl.ontology.ContextElementImpl"
                     table="Goal">
        <key column="UID"/>
    </joined-subclass>

    <!--BusinessContextResourceImpl-->
    <joined-subclass name="model.impl.databaseImpl.ontology.resources.BusinessContextResourceImpl"
                     extends="model.impl.databaseImpl.ontology.resources.ContextResourceImpl"
                     table="BusinessContextResource">
        <key column="UID"/>
        <property name="resourceID" column="resourceID" type="string"/>
    </joined-subclass>

    <!--CoreImpl-->
    <joined-subclass name="CoreImpl"
                     extends="SimpleResourceImpl"
                     table="CPU">
        <key column="UID"/>
        <many-to-one name="partOf" class="model.impl.databaseImpl.ontology.ContextElementImpl" cascade="save-update"
                     lazy="false" not-null="true"/>

    </joined-subclass>

    <!--CPUImpl-->
    <joined-subclass name="CPUImpl"
                     extends="SimpleResourceImpl"
                     table="CPU">
        <key column="UID"/>
        <property name="cacheRate" column="cacheRate" type="float"/>
        <property name="clockRate" column="clockRate" type="float"/>
        <list name="associatedCores" cascade="save-update" lazy="false" table="AssociatedCores">
            <key column="coreID"/>
            <list-index column="coreListIndex"/>
            <many-to-many class="CoreImpl"/>
        </list>

    </joined-subclass>

    <!--ExternalStorageImpl-->
    <joined-subclass name="ExternalStorageImpl"
                     extends="ContextResourceImpl"
                     table="ExternalStorage">
        <key column="UID"/>
    </joined-subclass>

    <!--HDDImpl-->
    <joined-subclass name="HDDImpl"
                     extends="SimpleResourceImpl"
                     table="HDD">
        <key column="UID"/>
    </joined-subclass>

    <!--ServiceCenterITFacilityResourceImpl-->
    <joined-subclass name="model.impl.databaseImpl.ontology.resources.ServiceCenterITFacilityResourceImpl"
                     extends="model.impl.databaseImpl.ontology.resources.ContextResourceImpl"
                     table="ServiceCenterITFacilityResource">
        <key column="UID"/>
        <property name="resourceProperty" column="resourceProperty" type="string"/>
    </joined-subclass>

    <!--ITFacilityActiveResourceImpl-->
    <joined-subclass name="ITFacilityActiveResourceImpl"
                     extends="ServiceCenterITFacilityResourceImpl"
                     table="ITFacilityActiveResource">
        <key column="UID"/>
        <list name="actions" cascade="save-update">
            <key column="actions"/>
            <list-index column="actionsIndex"/>
            <one-to-many class="model.impl.databaseImpl.ontology.actions.ITFacilityResourcesAdaptationActionImpl"/>
        </list>
    </joined-subclass>

    <!--FacilityImpl-->
    <joined-subclass name="FacilityImpl"
                     extends="ITFacilityActiveResourceImpl"
                     table="Facility">
        <key column="UID"/>
    </joined-subclass>

    <!--ITFacilityPassiveResourceImpl-->
    <joined-subclass name="ITFacilityPassiveResourceImpl"
                     extends="ServiceCenterITFacilityResourceImpl"
                     table="ITFacilityPassiveResource">
        <key column="UID"/>
        <property name="recordedValue" column="recordedValue" type="java.lang.Double"/>
    </joined-subclass>

    <!--MEMImpl-->
    <joined-subclass name="MEMImpl"
                     extends="SimpleResourceImpl"
                     table="MEM">
        <key column="UID"/>
    </joined-subclass>

    <!--SensorImpl-->
    <joined-subclass name="SensorImpl"
                     extends="ITFacilityPassiveResourceImpl"
                     table="Sensor">
        <key column="UID"/>

    </joined-subclass>

    <!--ServiceCenterServerImpl-->
    <joined-subclass name="model.impl.databaseImpl.ontology.resources.ServiceCenterServerImpl"
                     extends="model.impl.databaseImpl.ontology.ContextElementImpl"
                     table="ServiceCenterServer">
        <key column="UID"/>
    </joined-subclass>

    <!--ActuatorImpl-->
    <joined-subclass name="ActuatorImpl"
                     extends="ITFacilityActiveResourceImpl"
                     table="Actuator">
        <key column="UID"/>
    </joined-subclass>

</hibernate-mapping>