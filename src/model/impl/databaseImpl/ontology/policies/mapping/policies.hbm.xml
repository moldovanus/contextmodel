<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="model.impl.databaseImpl.policies">

    <joined-subclass name="ContextPolicyImpl" extends="model.impl.databaseImpl.ContextElementImpl"
                     table="ContextPolicy">
        <key column="UID"/>
        <property name="policyName" column="policyName" type="string"/>
        <property name="evaluationCondition" column="evaluationCondition" type="string"/>
        <property name="respected" column="respected" type="boolean"/>

        <list name="policySubject">
            <key column="policySubject"/>
            <list-index column="policySubject"/>
            <one-to-many class="model.impl.databaseImpl.resources.ContextResourceImpl"/>
        </list>

        <list name="policyTarget">
            <key column="policyTarget"/>
            <list-index column="policyTarget"/>
            <one-to-many class="model.impl.databaseImpl.resources.ContextResourceImpl"/>
        </list>

        <many-to-one name="triggerEvent" class="model.impl.databaseImpl.EventImpl" column="triggerEvent"
                     not-null="true" cascade="create"/>
    </joined-subclass>

    <joined-subclass name="GPI_KPI_PolicyImpl" extends="ContextPolicyImpl"
                     table="GPI_KPI_Policy">
        <key column="UID"/>
        <many-to-one name="policyGoal" column="policyGoal" class="model.impl.databaseImpl.GoalImpl"
                     not-null="true" cascade="create"/>
    </joined-subclass>

    <joined-subclass name="BusinessPolicyImpl" extends="GPI_KPI_PolicyImpl"
                     table="BusinessPolicy">
        <key column="UID"/>
    </joined-subclass>

    <joined-subclass name="EnvironmentPolicyImpl" extends="GPI_KPI_PolicyImpl"
                     table="EnvironmentPolicy">
        <key column="UID"/>

    </joined-subclass>

    <joined-subclass name="ITComputingContextPolicyImpl" extends="GPI_KPI_PolicyImpl"
                     table="ITComputingContextPolicy">
        <key column="UID"/>
    </joined-subclass>

    <joined-subclass name="QoSPolicyImpl" extends="BusinessPolicyImpl"
                     table="QoSPolicy">
        <key column="UID"/>
    </joined-subclass>

    <joined-subclass name="SLAPolicyImpl" extends="BusinessPolicyImpl"
                     table="SLAPolicy">
        <key column="UID"/>
    </joined-subclass>

</hibernate-mapping>